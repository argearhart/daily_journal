<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Journal</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-nav">
                <h1>ğŸ“” Daily Journal</h1>
                <div class="nav-buttons">
                    <button id="journalTab" class="nav-btn active">ğŸ“ Journal</button>
                    <button id="dashboardTab" class="nav-btn">ğŸ“Š Dashboard</button>
                    <button id="helpTab" class="nav-btn">â“ Help</button>
                    <div class="auth-buttons">
                        <button id="loginBtn" class="auth-btn">Login</button>
                        <button id="signupBtn" class="auth-btn">Sign Up</button>
                        <button id="logoutBtn" class="auth-btn" style="display: none;">Logout</button>
                    </div>
                </div>
            </div>
            <p>Log your daily experiences, feelings, food, and events</p>
        </header>

        <div class="main-content">
            <!-- Entry Form Section -->
            <section class="entry-section">
                <h2>Add New Entry</h2>
                <form id="entryForm">
                    <div class="form-group">
                        <label for="entryType">Entry Type:</label>
                        <select id="entryType" required>
                            <option value="">Select type...</option>
                            <option value="journal">ğŸ“ Journal</option>
                            <option value="wellness">ğŸ˜Š Wellness</option>
                            <option value="food">ğŸ½ï¸ Food</option>
                            <option value="exercise">ğŸ’ª Exercise</option>
                            <option value="social">ğŸ‘¥ Social</option>
                            <option value="learning">ğŸ“š Learning</option>
                            <option value="creative">ğŸ¨ Creative</option>
                            <option value="events">ğŸ“… Events</option>
                        </select>
                    </div>

                    <!-- Quick Add Buttons -->
                    <div class="quick-add-section">
                        <h3>Quick Add</h3>
                        <div class="quick-add-buttons">
                            <button type="button" class="quick-btn" data-type="wellness" data-mood="ğŸ˜Š Happy" data-energy="ğŸ˜Š Medium (4-6)">ğŸ˜Š Good Day</button>
                            <button type="button" class="quick-btn" data-type="wellness" data-mood="ğŸ˜´ Tired" data-energy="ğŸ˜´ Low (1-3)">ğŸ˜´ Tired</button>
                            <button type="button" class="quick-btn" data-type="exercise" data-exercise="ğŸƒ Cardio" data-duration="30" data-intensity="ğŸŸ¡ Moderate">ğŸƒ Quick Cardio</button>
                            <button type="button" class="quick-btn" data-type="social" data-social="ğŸ‘¥ Friends" data-energy="ğŸ˜Š Energizing">ğŸ‘¥ Friends</button>
                            <button type="button" class="quick-btn" data-type="learning" data-skill="JavaScript" data-time="30" data-status="ğŸŸ¢ Learning">ğŸ“š Study</button>
                            <button type="button" class="quick-btn" data-type="creative" data-creative="ğŸ¨ Art" data-energy="ğŸ’¡ Inspired">ğŸ¨ Create</button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="entryTitle">Title:</label>
                        <input type="text" id="entryTitle" placeholder="Enter a title..." required>
                    </div>

                    <div class="form-group" id="wellnessGroup" style="display: none;">
                        <div class="form-row">
                            <div class="form-group-half">
                                <label for="wellnessMood">Mood:</label>
                                <select id="wellnessMood">
                                    <option value="">Select mood...</option>
                                    <option value="ğŸ˜Š Happy">ğŸ˜Š Happy</option>
                                    <option value="ğŸ˜Œ Calm">ğŸ˜Œ Calm</option>
                                    <option value="ğŸ˜¢ Sad">ğŸ˜¢ Sad</option>
                                    <option value="ğŸ˜  Angry">ğŸ˜  Angry</option>
                                    <option value="ğŸ˜° Anxious">ğŸ˜° Anxious</option>
                                    <option value="ğŸ˜´ Tired">ğŸ˜´ Tired</option>
                                    <option value="ğŸ˜ Excited">ğŸ˜ Excited</option>
                                </select>
                            </div>
                            <div class="form-group-half">
                                <label for="wellnessEnergy">Energy Level:</label>
                                <select id="wellnessEnergy">
                                    <option value="">Select energy...</option>
                                    <option value="ğŸ˜´ Low (1-3)">ğŸ˜´ Low (1-3)</option>
                                    <option value="ğŸ˜Š Medium (4-6)">ğŸ˜Š Medium (4-6)</option>
                                    <option value="âš¡ High (7-10)">âš¡ High (7-10)</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group-half">
                                <label for="sleepHours">Sleep (hours):</label>
                                <input type="number" id="sleepHours" min="1" max="24" step="0.5" placeholder="8">
                            </div>
                            <div class="form-group-half">
                                <label for="sleepQuality">Sleep Quality:</label>
                                <select id="sleepQuality">
                                    <option value="">Select quality...</option>
                                    <option value="ğŸ˜´ Poor">ğŸ˜´ Poor</option>
                                    <option value="ğŸ˜Š Good">ğŸ˜Š Good</option>
                                    <option value="ğŸ˜ Excellent">ğŸ˜ Excellent</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="form-group" id="exerciseGroup" style="display: none;">
                        <label for="exerciseSelect">What type of exercise?</label>
                        <select id="exerciseSelect">
                            <option value="">Select exercise type...</option>
                            <option value="ğŸƒ Cardio">ğŸƒ Cardio</option>
                            <option value="ğŸ‹ï¸ Strength">ğŸ‹ï¸ Strength</option>
                            <option value="ğŸ§˜ Yoga/Stretch">ğŸ§˜ Yoga/Stretch</option>
                            <option value="ğŸŠ Swimming">ğŸŠ Swimming</option>
                            <option value="âš½ Sports">âš½ Sports</option>
                            <option value="ğŸš¶ Walking">ğŸš¶ Walking</option>
                            <option value="ğŸ’ƒ Dancing">ğŸ’ƒ Dancing</option>
                            <option value="ğŸ¹ Other">ğŸ¹ Other</option>
                        </select>
                    </div>

                    <div class="form-group" id="exerciseDetailsGroup" style="display: none;">
                        <div class="form-row">
                            <div class="form-group-half">
                                <label for="exerciseDuration">Duration (minutes):</label>
                                <input type="number" id="exerciseDuration" min="1" max="300" placeholder="30">
                            </div>
                            <div class="form-group-half">
                                <label for="exerciseIntensity">Intensity:</label>
                                <select id="exerciseIntensity">
                                    <option value="">Select intensity...</option>
                                    <option value="ğŸŸ¢ Light">ğŸŸ¢ Light</option>
                                    <option value="ğŸŸ¡ Moderate">ğŸŸ¡ Moderate</option>
                                    <option value="ğŸŸ  Hard">ğŸŸ  Hard</option>
                                    <option value="ğŸ”´ Very Hard">ğŸ”´ Very Hard</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Social Tracker -->
                    <div class="form-group" id="socialGroup" style="display: none;">
                        <div class="form-row">
                            <div class="form-group-half">
                                <label for="socialType">Social Activity:</label>
                                <select id="socialType">
                                    <option value="">Select activity...</option>
                                    <option value="ğŸ‘¥ Friends">ğŸ‘¥ Friends</option>
                                    <option value="ğŸ’¬ Phone Call">ğŸ’¬ Phone Call</option>
                                    <option value="ğŸ“± Video Call">ğŸ“± Video Call</option>
                                    <option value="ğŸ½ï¸ Meal Together">ğŸ½ï¸ Meal Together</option>
                                    <option value="ğŸ‰ Event/Party">ğŸ‰ Event/Party</option>
                                    <option value="ğŸ¢ Work Meeting">ğŸ¢ Work Meeting</option>
                                    <option value="ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Family">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Family</option>
                                    <option value="ğŸ’‘ Date">ğŸ’‘ Date</option>
                                </select>
                            </div>
                            <div class="form-group-half">
                                <label for="socialEnergy">How did it feel?</label>
                                <select id="socialEnergy">
                                    <option value="">Select feeling...</option>
                                    <option value="ğŸ˜Š Energizing">ğŸ˜Š Energizing</option>
                                    <option value="ğŸ˜Œ Neutral">ğŸ˜Œ Neutral</option>
                                    <option value="ğŸ˜” Draining">ğŸ˜” Draining</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Learning/Skills Tracker -->
                    <div class="form-group" id="learningGroup" style="display: none;">
                        <div class="form-row">
                            <div class="form-group-half">
                                <label for="skillName">Skill/Subject:</label>
                                <input type="text" id="skillName" placeholder="e.g., JavaScript, Piano">
                            </div>
                            <div class="form-group-half">
                                <label for="learningTime">Time (minutes):</label>
                                <input type="number" id="learningTime" min="1" max="480" placeholder="30">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group-half">
                                <label for="skillStatus">Status:</label>
                                <select id="skillStatus">
                                    <option value="">Select status...</option>
                                    <option value="ğŸŸ¢ Learning">ğŸŸ¢ Learning</option>
                                    <option value="ğŸŸ¡ Practicing">ğŸŸ¡ Practicing</option>
                                    <option value="ğŸ”´ Inactive">ğŸ”´ Inactive</option>
                                </select>
                            </div>
                            <div class="form-group-half">
                                <label for="learningMethod">Method:</label>
                                <select id="learningMethod">
                                    <option value="">Select method...</option>
                                    <option value="ğŸ“š Reading">ğŸ“š Reading</option>
                                    <option value="ğŸ¥ Video">ğŸ¥ Video</option>
                                    <option value="âœï¸ Practice">âœï¸ Practice</option>
                                    <option value="ğŸ’» Online">ğŸ’» Online</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Creative Activities Tracker -->
                    <div class="form-group" id="creativeGroup" style="display: none;">
                        <div class="form-row">
                            <div class="form-group-half">
                                <label for="creativeType">Creative Activity:</label>
                                <select id="creativeType">
                                    <option value="">Select activity...</option>
                                    <option value="ğŸ¨ Art">ğŸ¨ Art</option>
                                    <option value="âœï¸ Writing">âœï¸ Writing</option>
                                    <option value="ğŸµ Music">ğŸµ Music</option>
                                    <option value="ğŸ“¸ Photography">ğŸ“¸ Photography</option>
                                    <option value="ğŸ§µ Crafting">ğŸ§µ Crafting</option>
                                    <option value="ğŸ³ Cooking">ğŸ³ Cooking</option>
                                    <option value="ğŸŒ± Gardening">ğŸŒ± Gardening</option>
                                    <option value="ğŸ’¡ Other">ğŸ’¡ Other</option>
                                </select>
                            </div>
                            <div class="form-group-half">
                                <label for="creativeEnergy">How creative?</label>
                                <select id="creativeEnergy">
                                    <option value="">Select level...</option>
                                    <option value="ğŸ’¡ Inspired">ğŸ’¡ Inspired</option>
                                    <option value="ğŸ˜Š Productive">ğŸ˜Š Productive</option>
                                    <option value="ğŸ˜Œ Relaxed">ğŸ˜Œ Relaxed</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="entryContent">Content:</label>
                        <textarea id="entryContent" rows="4" placeholder="Write your entry here..." required></textarea>
                    </div>

                    <div class="form-group">
                        <label for="entryDate">Date:</label>
                        <input type="date" id="entryDate" required>
                    </div>

                    <div class="form-group">
                        <label for="entryTime">Time:</label>
                        <input type="time" id="entryTime">
                    </div>

                    <div class="form-group">
                        <label for="entryTags">Tags (comma-separated):</label>
                        <input type="text" id="entryTags" placeholder="e.g., happy, work, family">
                    </div>

                    <button type="submit">Add Entry</button>
                </form>
            </section>

            <!-- Search Section -->
            <section class="search-section">
                <h2>Search Entries</h2>
                <div class="search-controls">
                    <input type="text" id="searchInput" placeholder="Search entries...">
                    <select id="searchType">
                        <option value="all">All Types</option>
                        <option value="journal">Journal</option>
                        <option value="wellness">Wellness</option>
                        <option value="food">Food</option>
                        <option value="exercise">Exercise</option>
                        <option value="social">Social</option>
                        <option value="learning">Learning</option>
                        <option value="creative">Creative</option>
                        <option value="events">Events</option>
                    </select>
                    <input type="date" id="searchDate" placeholder="Filter by date">
                    <input type="time" id="searchTime" placeholder="Filter by time">
                    <button id="searchBtn">Search</button>
                    <button id="clearBtn">Clear</button>
                </div>
            </section>

            <!-- Entries Display Section -->
            <section class="entries-section">
                <h2>Your Entries</h2>
                <div id="entriesContainer">
                    <p class="no-entries">No entries yet. Add your first entry above!</p>
                </div>
            </section>
        </div>

        <!-- Dashboard Section -->
        <div id="dashboardSection" class="dashboard-section" style="display: none;">
            <h2>ğŸ“Š Your Dashboard</h2>
            
            <!-- Summary Cards -->
            <div class="summary-cards">
                <div class="summary-card">
                    <h3>ğŸ“… This Week</h3>
                    <div class="metric">
                        <span class="metric-value" id="weekEntries">0</span>
                        <span class="metric-label">Entries</span>
                    </div>
                </div>
                <div class="summary-card">
                    <h3>ğŸ˜Š Mood</h3>
                    <div class="metric">
                        <span class="metric-value" id="avgMood">-</span>
                        <span class="metric-label">Average</span>
                    </div>
                </div>
                <div class="summary-card">
                    <h3>âš¡ Energy</h3>
                    <div class="metric">
                        <span class="metric-value" id="avgEnergy">-</span>
                        <span class="metric-label">Average</span>
                    </div>
                </div>
                <div class="summary-card">
                    <h3>ğŸ˜´ Sleep</h3>
                    <div class="metric">
                        <span class="metric-value" id="avgSleep">-</span>
                        <span class="metric-label">Hours</span>
                    </div>
                </div>
            </div>

            <!-- Charts Section -->
            <div class="charts-section">
                <div class="chart-container">
                    <h3>ğŸ“ˆ Mood & Energy Trends</h3>
                    <canvas id="moodEnergyChart" width="400" height="200"></canvas>
                </div>
                
                <div class="chart-container">
                    <h3>ğŸƒ Activity Distribution</h3>
                    <canvas id="activityChart" width="400" height="200"></canvas>
                </div>
            </div>

            <!-- Quick Insights -->
            <div class="insights-section">
                <h3>ğŸ’¡ Quick Insights</h3>
                <div id="insightsList" class="insights-list">
                    <!-- Insights will be populated by JavaScript -->
                </div>
            </div>

            <!-- Data Export -->
            <div class="export-section">
                <h3>ğŸ“¤ Export Data</h3>
                <button id="exportData" class="export-btn">Download CSV</button>
                <button id="clearData" class="clear-btn">Clear All Data</button>
            </div>
        </div>

        <!-- Help Section -->
        <div id="helpSection" class="help-section" style="display: none;">
            <h2>â“ How to Use Your Daily Journal</h2>
            
            <!-- Getting Started -->
            <div class="help-card">
                <h3>ğŸš€ Getting Started</h3>
                <div class="help-content">
                    <p><strong>1. Create Your Account:</strong> Click "Sign Up" to create your personal journal account.</p>
                    <p><strong>2. Start Logging:</strong> Use the quick-add buttons for fast entries or fill out detailed forms.</p>
                    <p><strong>3. View Your Progress:</strong> Check the Dashboard to see your patterns and insights.</p>
                </div>
            </div>

            <!-- Quick Add Guide -->
            <div class="help-card">
                <h3>âš¡ Quick Add Buttons</h3>
                <div class="help-content">
                    <p>Use these buttons to quickly log common activities:</p>
                    <ul>
                        <li><strong>ğŸ˜Š Good Day:</strong> Log positive mood and energy</li>
                        <li><strong>ğŸ˜´ Tired:</strong> Record low energy and sleep needs</li>
                        <li><strong>ğŸƒ Quick Cardio:</strong> Log a 30-minute cardio session</li>
                        <li><strong>ğŸ‘¥ Friends:</strong> Record social interactions</li>
                        <li><strong>ğŸ“š Study:</strong> Track learning activities</li>
                        <li><strong>ğŸ¨ Create:</strong> Log creative work</li>
                    </ul>
                </div>
            </div>

            <!-- Entry Types Guide -->
            <div class="help-card">
                <h3>ğŸ“ Entry Types Explained</h3>
                <div class="help-content">
                    <div class="entry-type-guide">
                        <div class="type-item">
                            <span class="type-badge wellness">Wellness</span>
                            <p>Track your mood, energy levels, sleep hours, and sleep quality all in one place.</p>
                        </div>
                        <div class="type-item">
                            <span class="type-badge exercise">Exercise</span>
                            <p>Log workout type, duration, and intensity to track your fitness progress.</p>
                        </div>
                        <div class="type-item">
                            <span class="type-badge social">Social</span>
                            <p>Record social interactions and how they affect your energy.</p>
                        </div>
                        <div class="type-item">
                            <span class="type-badge learning">Learning</span>
                            <p>Track skills you're developing, study time, and learning methods.</p>
                        </div>
                        <div class="type-item">
                            <span class="type-badge creative">Creative</span>
                            <p>Log creative activities and projects you're working on.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Dashboard Guide -->
            <div class="help-card">
                <h3>ğŸ“Š Dashboard Features</h3>
                <div class="help-content">
                    <p><strong>Summary Cards:</strong> Quick overview of your week's activity, average mood, energy, and sleep.</p>
                    <p><strong>Trend Charts:</strong> Visual representation of your mood and energy patterns over time.</p>
                    <p><strong>Activity Distribution:</strong> See how you spend your time across different activities.</p>
                    <p><strong>Insights:</strong> Personalized observations about your patterns and progress.</p>
                    <p><strong>Export Data:</strong> Download your entries as CSV for external analysis.</p>
                </div>
            </div>

            <!-- Tips -->
            <div class="help-card">
                <h3>ğŸ’¡ Tips for Better Journaling</h3>
                <div class="help-content">
                    <ul>
                        <li><strong>Be Consistent:</strong> Try to log entries daily, even if brief</li>
                        <li><strong>Use Quick Add:</strong> Don't overthink - quick entries are better than no entries</li>
                        <li><strong>Check Your Dashboard:</strong> Review your patterns weekly to spot trends</li>
                        <li><strong>Export Regularly:</strong> Download your data as a backup</li>
                        <li><strong>Be Honest:</strong> Accurate logging leads to better insights</li>
                    </ul>
                </div>
            </div>

            <!-- Privacy -->
            <div class="help-card">
                <h3>ğŸ”’ Privacy & Security</h3>
                <div class="help-content">
                    <p><strong>Your Data is Private:</strong> Only you can see your entries. Each user has their own secure account.</p>
                    <p><strong>Secure Storage:</strong> All data is encrypted and stored securely in the cloud.</p>
                    <p><strong>Access Anywhere:</strong> Your journal syncs across all your devices automatically.</p>
                    <p><strong>You Own Your Data:</strong> Export and download your entries anytime.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Authentication Modal -->
    <div id="authModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="authTitle">Login</h2>
            <form id="authForm">
                <div class="form-group">
                    <label for="authEmail">Email:</label>
                    <input type="email" id="authEmail" required>
                </div>
                <div class="form-group">
                    <label for="authPassword">Password:</label>
                    <input type="password" id="authPassword" required>
                </div>
                <button type="submit" id="authSubmitBtn">Login</button>
            </form>
            <p id="authSwitch">
                Don't have an account? <a href="#" id="switchToSignup">Sign up</a>
            </p>
            <div id="authError" class="error-message" style="display: none;"></div>
        </div>
    </div>

    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Supabase CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- Configuration -->
    <script src="config.js"></script>
    <script src="script.js"></script>
</body>
</html>
